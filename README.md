# firebase_setup_starting_point

This repo is intended to be a "starting point" for projects that use firebase and vue, so you can get the "boring" setup work out of the way before lecture.

How I generated this project:

1. `vue create firebase_setup_stating_point` (create basic project template)
2. `vue add router` (update template with vue router)
3. `npm install firebase` (add the firebase web API to this project)
4. `npm install vuefire` (add the vue + firestore bindings to make firestore data easy to work with.)
5. updated the `main.js` file to use the vuefire plugin
6. when setting up the auth test I further updated main.js to make sure the authenticaiton info is loaded before rendering starts, and I updated the router configuration to check if a route wants authentication before routing.

## References:

* <https://savvyapps.com/blog/definitive-guide-building-web-app-vuejs-firebase>
* <https://firebase.google.com/docs/firestore/quickstart>
* <https://vuefire.vuejs.org/vuefire/#why>
* <https://medium.com/@anas.mammeri/vue-2-firebase-how-to-build-a-vue-app-with-firebase-authentication-system-in-15-minutes-fdce6f289c3c>
* 

## Project setup (do once after downloading)
1. locally install dependencies with `npm install`
2. On [google firebase console](https://console.firebase.google.com/), create a firebase project for this project
3. configure the firebase API.
    * click the gear on the side-bar and go to project settings
    * at the bottom of this page is a "Your apps" page -- click the `</>` icon to setup the web-api
    * No need to setup firebase hosting right now, we saw that we can do this from the terminal easily enough already. Just register a nickname.
    * It's going to tell you to copy the configuration script into your code. Don't actually do that. Instead we will be using .env and .env.local files to configure this, just copy this data into a temporary file so you don't lose it immediately.
        * .env files are automatically loaded when serving or compiling your project and added to an environment variable.
        * .env.local is also loaded, but it is marked by .gitignore as a file to ignore -- its safe to put api keys and such in this file. (You api key should never go online)
    * update the .env file based on the provided keys
    * copy .env.local.example to .env.local and fill in the api key and appId.
## Testing and extra setup
### Data Storage Test
This test uses the firestore API bindings

If you want to test the firestore API bindings you will need to use the firebase console to go to the "firestore database" and create a database "words"

* start in test mode. You will eventually need to set security settings, but right now, don't bother.
* name your initial collection "words" 
* create an initail document `{word: "cat", likes: 0}` and an autogenerated ID. (Note -- this is a bad way to track likes.)

### Auth test
The authentication storage test uses the firebase auth bindings. 

To use and test this:
* go to the firebase console and click "authentication. then click on google in the list of sign-in methods and enable it. You will need to list a support email for the log in (just yourself). 

Also -- authentication checked in the file storage tests routing. You can see how this is used in 


### File storage test
The file storage test uses the firebase data storage bindings. This would be a good way to do uploaded images (for example) as these can't really be put in firestore.

The firebase data storage tool works fine, but by default it's locked down to logged in users only. Log in through the auth test first.

### Compiles and hot-reloads for development
```
npm run serve
```

### Compiles and minifies for production
```
npm run build
```

### Lints and fixes files
```
npm run lint
```

### Customize configuration
See [Configuration Reference](https://cli.vuejs.org/config/).
